# 1. Цель Проекта
Цель проекта - разработка системы управления производственной ленты (далее Ситсема). Пользователь сможет создавать в Системе внутренний заказ на производство партии капкейков, указывая основные параметры: тип капкейков; количество штук в партии; время окончания производства партии. Также в Системе должна быть предусмотрена возможность просмотра и управления очередью внутренних заказов. Ситема должна выводить информацию о процессе очереди и непредвиденных остановок на информационное табло.
# 2. Описание Системы
Система состоит из следующих основных функциональных блоков:
1. Идентификация, аутентификация и авторизация;
2. Функцонал создания внутреннего заказа;
3. Функционал работы с очередью (просмотр, удаление ожидающих закозов, остановка текущего заказа);
4. Функционал для просмотра истории внутренних заказов;
5. Функционал для отправки уведомлений (возникновение\устранение проблем) с планшета; 
6. Автоматические уведомления для вывода на информационное табло.
## 2.1. Типы пользователей
Система предусматривает 3 типа пользователей:
- Информируемый - имеет права на просмотр очереди и истории внутреннних заказов. Предположительный пользователь - начальник производственного предприятия;
- Менеджер линии производства - имеет права на: просмотр и редактирование очереди; запуск\приостановку очереди; просмотр истории внутренних заказов. Предположительный пользователь - начальник цеха;
- Решатель проблем - иммеет права на запуск очереди после остановки; отправки уведомлений о решении проблем или необходимости привлечения помощи. Предположительный пользователь - работник цеха.

Также будут реализованы 2 сервисные роли: Администратор ИБ и Функциональный Администратор.
## 2.2. Идентификация и аутентификация
Система предполагается как PaaS расположенная в контуре компании. На этапе MVP не предполагает итеграцию с AD компании.
Процесс заведения пользователя в Системе будет реализован в первой версии не в интерфейсе Системы, а при помощи команды на сервере. Этой команде заведения автора должны быть переданы на вход следующие данные:
- email — обязательное поле
- пароль — обязательное поле

Аутентификация автора и подписчиков осуществляется по email и паролю 
## 2.3. Функционал для роли "Информируемый" 
Информируемый после аутентификации (ввода логина и пароля) получает доступ к своему функционалу в Системе. Этот функционал состоит из следующих блоков:
1. Просмотр очереди
2. Просмотр истории внутренних заказов
3. Выгрузка отчётов о процессе производства
### 2.3.1. Просмотр очереди
В этом разделе у пользователя есть возможность:
1. Просмотреть внутренний заказ, который находится в производстве, а также его параметры;
2. Просмотреть внутренние заказы и их параметры, которые находятся в очереди, в ожидании;
3. Просмотреть причину остановки очереди.

Данный функционал также доступен для роли "Менеджер линии производства"
### 2.3.2. Просмотр истории внутренних заказов
На этапе MVP не предусматривается автоматическая очистка истории по расписанию или событию, единственным способом является очистка из БД.
В этом разделе у пользователя есть возможность:
1. Просмотреть завершённые заказы;
2. Просмотреть параметры завершённых заказов (тип капкейков, количество шт. в партии, статус завершения, процесс по статусной модели, время завершения).

Данный функционал также доступен для роли "Менеджер линии производства"

### 2.3.3. Выгрузка отчётов о процессе производства
Отчёты генерируются на основе установленного временного периода и заранее предопределённого шаблона в формате excel-файла, который сохраняется локально.
Данный функционал также доступен для роли "Менеджер линии производства"
## 2.4.Функционал для роли "Менеджер линии производства" 
Менеджер линии производства после аутентификации (ввода логина и пароля) получает доступ к своему функционалу в Системе. Этот функционал состоит из следующих блоков:
1. Просмотр очереди;
2. Редактирование очереди;
3. Остановка линии производства, если оно запущено;
4. Запуск линии производства, если оно приостановлено;
5. Создание внутреннего заказа;
6. Просмотр сообщений об ошибках;
7. Просмотр сообщений об устранении ошибок;
8. Просмотр истории внутренних заказов;
9. Выгрузка отчётов о процессе производства;

### 2.4.1. Просмотр очереди
Данный функционал описан в [2.3.1.](https://github.com/bel64enok/Test-Cupcake/edit/main/docs/Technical_task.md#231-%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80-%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D0%B8)

### 2.4.2. Редактирование очереди
Данный функционал распространяется на внутренние заказы в очереди со статусом в ожидании, т.е. те, которые ещё не попали на линию.
В этом разделе у пользователя есть возможность:
1. Удалить внутренний заказ из очереди;
2. Изменить параметры внутреннего заказа;
3. Изменить порядок внутренних заказов.

### 2.4.3. Остановка линии производства
Данная функция останавливает производство на линии при условии, что запущено производство внутреннего заказа.
После остановки линии производства выводится соответствующее уведомление на информационное табло.
### 2.4.4. Запуск линии производства, если оно приостановлено
Данная функция возобновляет производство на линии при условии, что оно было приостановлено.
При запуске линии производства выводится соответствующее уведомление на информационное табло.
### 2.4.5. Создание внутреннего заказа
В этом разделе у пользователя есть возможность:
1. Создать новый внутренний заказ на производство партии капкейков;
2. Указать основные параметры внутреннего заказа: тип капкейков; количество штук в партии; положение заказа в очереди; время окончания производства партии.
### 2.4.6. Просмотр сообщений об ошибках
В этом разделе у пользователя есть возможность:
1. Просмотреть ошибки как по внутреннему заказу в процессе производства, так и по уже изготовленным партиям капкейков.
### 2.4.7. Просмотр сообщений об устранении ошибок
В этом разделе у пользователя есть возможность:
1. Просмотреть сообщения о решении в привязке к ошибкам.
### 2.4.8. Просмотр истории внутренних заказов
Данный функционал описан в [2.3.2.](https://github.com/bel64enok/Test-Cupcake/edit/main/docs/Technical_task.md#232-%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80-%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D0%B8-%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D0%B8%D1%85-%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%BE%D0%B2)
### 2.4.9. Выгрузка отчётов о процессе производства
Данный функционал описан в [2.3.3.](https://github.com/bel64enok/Test-Cupcake/edit/main/docs/Technical_task.md#233-%D0%B2%D1%8B%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BE%D1%82%D1%87%D1%91%D1%82%D0%BE%D0%B2-%D0%BE-%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%B5-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B0)
## 2.5.Функционал для роли "Решатель проблем" 
Решатель проблем после аутентификации (ввода логина и пароля) получает доступ к своему функционалу в Системе. 
Этот функционал состоит из следующих блоков:
1. Получение уведомлений о возникновении проблемы;
2. Отправление уведомлений о решении проблемы;
3. Запуск линии производства при условии решения проблемы.

Функционал для роли "Решатель проблем" доступен только с планшетной версии системы.
### 2.5.1. Получение уведомлений о возникновении проблемы
В этом разделе у пользователя есть возможность просмотра уведомлений о возникновении проблем с описанием ошибки на линии производства через планшетную версию Системы.
### 2.5.2. Отправление уведомлений о решении проблемы
В этом разделе у пользователя есть возможность отправки уведомлений о решении проблем с описанием решения на линии производства через планшетную версию Системы.
### 2.5.3. Запуск линии производства при условии решения проблемы
В этом разделе у пользователя есть возможность возобновления произодства на линии при условии решения возникших проблем через планшетную версию Системы.
## 2.6.  Функционал вывода уведомлений на информационное табло
Информационое табло - отражение статуса линии производства и списка уведомлений.
Типы уведомлений, которые должны выводиться на информационное табло:
1. Запуск производства внутреннего заказа на линии (в том числе запуск после остановки);
2. Завершение производства внутреннего заказа на линии;
3. Остановка производства внутреннего заказа на линии из-за ошибки;
4. Наименование ошибки остановки линии.

# 3. Предлагаемый стек технологий
Для реализации системы предлагается следующий стек технологий:

Бэкенд:
- Java(Spring, Spring Boot, JPA)
- БД PostgreSQL
- Брокер RabbitMQ
Фронтенд:
- React
- Redux
- Typescript
- сборщик проекта Webpack

# 4. Требования к дизайну
Минимализм и лаконичность, соблюдая концепцию корпоративного дизайна, акцент на контент. Должен присутствовать логотип предприятия в Системе.
